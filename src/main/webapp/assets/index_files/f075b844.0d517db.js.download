(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1042:function(t,e,n){"use strict";n.r(e);n(59);var r={data:function(){return{showDialog:!1}},mounted:function(){var t=this;this.$nuxt.$on("showPopupAds",(function(template){t.generateIframe(template)}))},methods:{generateIframe:function(template){this.showDialog=!0,setTimeout((function(){var t=document.getElementById("iframe_popup");(t=t.contentWindow||t.contentDocument.document||t.contentDocument).document.open(),t.document.write(template),t.document.close()}))}}},o=(n(823),n(6)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("Dialog",{ref:"dialog",staticClass:"popup-ads w-3/4 lg:w-1/2 2xl:w-2/5",attrs:{visible:t.showDialog,closable:!1,"content-style":{overflowY:"unset"},maximizable:!1,modal:!0,"close-on-escape":"","dismissable-mask":""},on:{"update:visible":function(e){t.showDialog=e}}},[e("div",{staticClass:"relative cursor-pointer"},[e("div",{staticClass:"absolute cursor-pointer rounded-full bg-black p-2 w-8 h-8 flex justify-center items-center text-gray-200 -right-3 -top-3",on:{click:function(e){e.stopPropagation(),t.showDialog=!1}}},[e("i",{staticClass:"pi-times pi !text-lg"})]),t._v(" "),e("iframe",{staticStyle:{"min-height":"420px",height:"fit-content","max-height":"80vh","border-radius":"10px"},attrs:{id:"iframe_popup",width:"100%",height:"100%"}})])])],1)}),[],!1,null,null,null);e.default=component.exports},404:function(t,e,n){"use strict";n.r(e);n(41),n(27),n(24),n(73),n(8);var r=n(248),o=n.n(r),c=n(212),l=n(87),f=n(40),d={name:"NewCategoryItem",mixins:[c.a,l.a],props:{item:Object},mounted:function(){},data:function(){return{thumnail:o.a}},computed:{categories:function(){if(this.item.category.length>1){var t=this.$route.params.slug,e=this.item.category.find((function(e){return e.slug===t})),n=this.item.category.filter((function(e){return e.slug!==t}));return n.unshift(e),n.slice(0,4)}return this.item.category}},methods:{formatDate:function(time){return this.$moment(1e3*time).format("LL")},uriNewsCategories:function(t){null!=t&&t.url?window.location.href=t.url:(this.$store.dispatch(f.eb,t),this.$router.push({path:"/danh-muc-tin-tuc/".concat(t.slug)}))},onLoadNewDetail:function(t){this.$store.dispatch(f.qb,t._id),this.$router.push({path:"/tin-tuc/".concat(t.slug)})}}},h=n(6),component=Object(h.a)(d,(function(){var t,e=this,r=e._self._c;return r("div",{staticClass:"w-full h-full"},[r("div",{staticClass:"flex flex-start flex-col justify-start"},[r("div",{staticClass:"w-full md:w-auto relative w-[360px] !rounded-xl"},[r("NuxtLink",{staticClass:"w-full h-full block !rounded-xl",attrs:{to:"/tin-tuc/".concat(e.item.slug)}},[r("nuxt-img",{staticClass:"w-full object-contain !rounded-xl",attrs:{src:e.urlImg(e.item.thumbnail,{w:360,h:230}),alt:e.item.title,width:"390",height:"230",loading:"lazy",placeholder:""}}),e._v(" "),r("div",{staticClass:"flex items-center flex-row-reverse absolute bottom-2 w-full"},e._l(e.item.category.slice(0,3),(function(t){return r("div",[r("div",{staticClass:"text-[14px] font-bold py-2 px-4 bg-tcPrimary rounded-2xl text-secondary mx-2 max-w-[150px]"},[r("span",{staticClass:"line-clamp-1"},[e._v(e._s(t.name))])])])})),0)],1)],1),e._v(" "),r("div",{staticClass:"md:pl-4 pt-2 md:pt-0 w-full"},[r("div",{staticClass:"md:flex items-center text-sm"},[r("div",{staticClass:"flex items-center min-w-[220px] py-3 text-black"},[r("span",{staticClass:"font-bold"},[e._v(e._s(e.item.createdBy))]),e._v(" "),r("img",{staticClass:"h-5 w-auto mr-2 pl-3",attrs:{src:n(671),alt:""}}),e._v(" "),r("span",{staticClass:"font-normal"},[e._v(e._s(e.formatDate(e.item.createdAt)))]),e._v(" "),r("i",{staticClass:"pi pi-circle-fill px-3 !text-[10px] text-[#666666] opacity-50"}),e._v(" "),r("span",[e._v(e._s(e.getHour(e.item.createdAt))+":"+e._s(e.getMinutes(e.item.createdAt)))])])]),e._v(" "),r("h3",{staticClass:"text-xl md:text-2xl font-bold mb-2 line-clamp-2"},[r("NuxtLink",{staticClass:"hover:opacity-70",attrs:{to:"/tin-tuc/".concat((null===(t=e.item)||void 0===t?void 0:t.shortEndpoint)||e.item.slug),title:e.item.title}},[e._v(e._s(e.item.title)+"\n        ")])],1)])])])}),[],!1,null,"6f24bab1",null);e.default=component.exports},468:function(t,e,n){t.exports={}},482:function(t,e,n){t.exports={}},638:function(t,e,n){"use strict";n.r(e);n(22),n(49),n(53),n(52),n(41),n(27),n(29),n(30),n(34),n(39);var r=n(2),o=(n(20),n(8),n(28),n(18),n(549)),c=n.n(o),l=n(40),f=n(87),d=n(127),h=n(68);function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var x={name:"Notification",mixins:[f.a,d.a,h.a],data:function(){return{isShowNotify:!1,banner:c.a,notify:"",idToken:"",notifications:[],loading:!1,count:0,page:0,total:0,lastReadNotification:""}},computed:{},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,t.$fire.messaging.onMessage((function(t){})),navigator.serviceWorker.addEventListener("message",function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.count++;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!0),e.next=6,t.$store.dispatch(l.w);case 6:return(n=e.sent)&&n.notificationId&&(t.lastReadNotification=n.notificationId),e.next=10,t.$store.dispatch(l.F,{page:1});case 10:o=e.sent,data=o.data,t.count=t.countUnreadNotification(data),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(1);case 17:case"end":return e.stop()}}),e,null,[[1,15]])})))()},methods:{showNotify:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.page=0,t.count=0,t.notifications=[],t.windowWidth<640?(t.$router.push("/thong-bao"),t.isShowNotify=!1):t.isShowNotify=!t.isShowNotify;case 4:case"end":return e.stop()}}),e)})))()},closeNotification:function(){this.isShowNotify=!1},seeAll:function(){this.$router.push("/thong-bao"),this.isShowNotify=!1,this.count=0},countUnreadNotification:function(data){var t,e=0,n=m(data);try{for(n.s();!(t=n.n()).done;){if(t.value._id===this.lastReadNotification)break;e++}}catch(t){n.e(t)}finally{n.f()}return e},infiniteHandler:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.page++,n.prev=1,n.next=4,e.$store.dispatch(l.F,{page:e.page});case 4:if(r=n.sent,(data=r.data).length?data.forEach((function(n){e.notifications.push(n),t.loaded()})):t.complete(),1!==e.page||!data||!data[0]){n.next=11;break}return n.next=10,e.$store.dispatch(l.S,{notificationId:data[0]._id});case 10:n.sent;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),t.complete();case 16:case"end":return n.stop()}}),n,null,[[1,13]])})))()},handleClickNotify:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var data,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.read){n.next=6;break}return t.read=1,data={signature:1,notificationId:t._id},n.next=5,e.$store.dispatch(l.X,data);case 5:n.sent;case 6:(r=t.direct)&&(window.location.href="".concat(window.location.origin,"/").concat(r),e.isShowNotify=!1);case 8:case"end":return n.stop()}}),n)})))()},markAllRead:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.count=0,t.notifications.forEach((function(t){return t.read=1})),e.next=4,t.$store.dispatch(l.W);case 4:case"end":return e.stop()}}),e)})))()}}},w=x,_=(n(805),n(6)),component=Object(_.a)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"select-none"},[e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeNotification,expression:"closeNotification"}],staticClass:"relative h-[40px] w-[40px] flex justify-center items-center rounded-full border-gray-200 lg:border"},[e("img",{directives:[{name:"show",rawName:"v-show",value:!t.isShowNotify,expression:"!isShowNotify"}],staticClass:"lg:pr-0 cursor-pointer h-[24px] object-cover",attrs:{alt:"bell-inactive",src:n(467)},on:{click:t.showNotify}}),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowNotify,expression:"isShowNotify"}],staticClass:"lg:pr-0 cursor-pointer h-[24px] object-cover",attrs:{alt:"bell-inactive",src:n(467)},on:{click:t.showNotify}}),t._v(" "),t.count?e("div",{staticClass:"absolute -top-1 lg:-top-1 lg:-right-2.5 -right-1 rounded-full bg-red-600 h-[20px] w-[24px] text-[12px] text-white flex items-center justify-center"},[t._v("\n      "+t._s(t.count<10?t.count:"9+")+"\n    ")]):t._e(),t._v(" "),t.isShowNotify?e("div",{staticClass:"absolute top-[35px] -right-4 h-[100vh] w-[550px]"},[e("div",{ref:"notification",staticClass:"bg-white min-h[60%] max-h-[90%] scroll-bar overflow-y-auto box-shadow-custom rounded-[8px] border-[1px] border-gray-50 notification select-none"},[t.loading?e("div",[e("div",[e("Skeleton",{staticClass:"mx-auto",attrs:{width:"250px",height:"2.5rem"}}),t._v(" "),e("div",[e("Skeleton",{staticClass:"mt-3",attrs:{width:"250px",height:"1.2rem"}})],1),t._v(" "),e("div",{staticClass:"mt-3 flex"},[e("Skeleton",{attrs:{width:"100px",height:"80px"}}),t._v(" "),e("div",{staticClass:"w-full ml-3"},[e("Skeleton",{staticClass:"mb-2",attrs:{width:"100%",height:"1rem"}}),t._v(" "),e("Skeleton",{staticClass:"mb-2",attrs:{width:"100%",height:"2rem"}}),t._v(" "),e("Skeleton",{attrs:{width:"100px",height:"1rem"}})],1)],1),t._v(" "),e("div",{staticClass:"mt-3 flex mt-3"},[e("Skeleton",{attrs:{width:"100px",height:"80px"}}),t._v(" "),e("div",{staticClass:"w-full ml-3"},[e("Skeleton",{staticClass:"mb-2",attrs:{width:"100%",height:"1rem"}}),t._v(" "),e("Skeleton",{staticClass:"mb-2",attrs:{width:"100%",height:"2rem"}}),t._v(" "),e("Skeleton",{attrs:{width:"100px",height:"1rem"}})],1)],1)],1)]):e("div",{staticClass:"select-none"},[e("h2",{staticClass:"text-center font-bold sticky top-0 bg-white z-10 py-2 mt-2"},[t._v("Thông báo")]),t._v(" "),t.notifications.length?e("div",[e("div",{staticClass:"flex items-center justify-between"},[e("span",{staticClass:"text-sm hover:text-tcPrimary cursor-pointer",on:{click:t.markAllRead}},[t._v("Đánh dấu tất cả là đã đọc")]),t._v(" "),e("span",{staticClass:"text-sm hover:text-tcPrimary cursor-pointer",on:{click:t.seeAll}},[t._v("Xem tất cả")])]),t._v(" "),e("Divider",{staticClass:"!my-2"}),t._v(" "),t._l(t.notifications,(function(n,r){return e("div",{key:n._id},[e("div",{staticClass:"flex items-center justify-center gap-2 select-text hover:bg-[#fefce8] hover:rounded-[5px] p-2"},[e("div",{staticClass:"shrink-0 w-[90px] h-[70px] border-[1px] border-gray-50",style:{backgroundSize:"cover",backgroundImage:"url("+t.urlImg(n.content.imgCover)+")"}}),t._v(" "),e("div",{class:["relative w-full pr-[15px]",{"cursor-pointer":n.direct}],on:{click:function(e){return t.handleClickNotify(n)}}},[e("h4",[t._v(t._s(n.content.title))]),t._v(" "),e("p",{staticClass:"text-[14px] text-justify line-clamp-2"},[t._v(t._s(n.content.description))]),t._v(" "),e("div",{staticClass:"flex items-center text-gray-400"},[e("i",{staticClass:"pi pi-clock !text-[12px]"}),t._v(" "),e("span",{staticClass:"ml-1 text-[13px]"},[t._v(t._s(t.$moment(1e3*n.timeConfig.timeStart).fromNow()))])]),t._v(" "),n.read?t._e():e("div",{staticClass:"h-[8px] w-[8px] rounded-full bg-tcPrimary absolute top-2 right-0"})])])])}))],2):t._e(),t._v(" "),e("infinite-loading",{ref:"infiniteLoading",on:{infinite:t.infiniteHandler}},[e("div",{staticClass:"mt-3 text-sm",attrs:{slot:"no-more"},slot:"no-more"},[t._v("Trên đây là tất cả thông báo của bạn.")]),t._v(" "),e("div",{attrs:{slot:"no-results"},slot:"no-results"},[t._v("Không có kết quả.")])])],1)])]):t._e()])])}),[],!1,null,null,null);e.default=component.exports},685:function(t,e,n){"use strict";n.r(e);n(27),n(24),n(73),n(41),n(8);var r=n(248),o=n.n(r),c=n(212),l=n(87),f=n(40),d={name:"NewCategoryItem",mixins:[c.a,l.a],props:{item:Object},mounted:function(){},data:function(){return{thumnail:o.a}},computed:{categories:function(){if(this.item.category.length>1){var t=this.$route.params.slug,e=this.item.category.find((function(e){return e.slug===t})),n=this.item.category.filter((function(e){return e.slug!==t}));return n.unshift(e),n.slice(0,4)}return this.item.category}},methods:{uriNewsCategories:function(t){null!=t&&t.url?window.location.href=t.url:(this.$store.dispatch(f.eb,t),this.$router.push({path:"/danh-muc-tin-tuc/".concat(t.slug)}))},onLoadNewDetail:function(t){this.$store.dispatch(f.qb,t._id),this.$router.push({path:"/tin-tuc/".concat((null==t?void 0:t.shortEndpoint)||t.slug)})}}},h=n(6),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",[e("NuxtLink",{attrs:{to:"#",event:""},nativeOn:{click:function(e){return t.onLoadNewDetail(t.item)}}},[e("div",{staticClass:"w-480 h-310"},[e("nuxt-img",{staticClass:"object-cover",attrs:{alt:t.item.title,src:t.urlImg(t.item.thumbnail,{w:480,h:270})}})],1),t._v(" "),e("div",{staticClass:"lg:flex items-center min-w-[220px] py-3 text-gray-400"},[e("span",[t._v(t._s(t.item.createdBy))]),t._v(" "),e("i",{staticClass:"lg:block hidden pi pi-circle-fill px-3 !text-[10px]"}),t._v(" "),e("span",{},[t._v(t._s(t.$moment(1e3*t.item.createdAt).format("DD/MM/YYYY")))]),t._v(" "),e("span",{staticClass:"px-3"},[t._v(t._s(t.getHour(t.item.createdAt))+":"+t._s(t.getMinutes(t.item.createdAt)))])]),t._v(" "),e("h3",{staticClass:"text-xl font-bold line-clamp-2 hover:text-tcPrimary"},[t._v(t._s(t.item.title))]),t._v(" "),e("div",{staticClass:"flex items-center",on:{click:function(t){t.stopPropagation()}}},t._l(t.categories,(function(n,r){return e("div",{key:n._id,staticClass:"py-3 max-w-[150px] pr-3"},[e("NuxtLink",{class:["font-bold line-clamp-1",{"text-gradient-primary":!r}],attrs:{to:t.uriNewsCategories(n),title:n.name}},[t._v(t._s(n.name)+"\n        ")])],1)})),0)])],1)}),[],!1,null,"f66c3880",null);e.default=component.exports},740:function(t,e){},805:function(t,e,n){"use strict";n(468)},823:function(t,e,n){"use strict";n(482)},953:function(t,e){}}]);