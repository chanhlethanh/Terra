/*! For license information please see ../../LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[271],{1082:function(e,t,n){"use strict";var r=n(50),o=n(9),c=n(0),l=n(19);const h="type.googleapis.com/google.protobuf.Int64Value",d="type.googleapis.com/google.protobuf.UInt64Value";function f(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function _(data){if(null==data)return null;if(data instanceof Number&&(data=data.valueOf()),"number"==typeof data&&isFinite(data))return data;if(!0===data||!1===data)return data;if("[object String]"===Object.prototype.toString.call(data))return data;if(data instanceof Date)return data.toISOString();if(Array.isArray(data))return data.map((e=>_(e)));if("function"==typeof data||"object"==typeof data)return f(data,(e=>_(e)));throw new Error("Data cannot be encoded in JSON: "+data)}function m(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case h:case d:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((e=>m(e))):"function"==typeof e||"object"==typeof e?f(e,(e=>m(e))):e}const w="functions",O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends c.c{constructor(code,e,details){super(`${w}/${code}`,e||""),this.details=details}}class y{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null==e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const v="us-central1";class C{constructor(e,t,n,r,o=v,c){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new y(t,n,r),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(o);this.customDomain=e.origin,this.region=v}catch(e){this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){return`${this.emulatorOrigin}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function S(e,t,n){return data=>function(e,t,data,n){const r=e._url(t);return T(e,r,data,n)}(e,t,data,n||{})}async function I(e,body,t,n){let r;t["Content-Type"]="application/json";try{r=await n(e,{method:"POST",body:JSON.stringify(body),headers:t})}catch(e){return{status:0,json:null}}let o=null;try{o=await r.json()}catch(e){}return{status:r.status,json:o}}async function T(e,t,data,n){const body={data:data=_(data)},r={},o=await e.contextProvider.getContext(n.limitedUseAppCheckTokens);o.authToken&&(r.Authorization="Bearer "+o.authToken),o.messagingToken&&(r["Firebase-Instance-ID-Token"]=o.messagingToken),null!==o.appCheckToken&&(r["X-Firebase-AppCheck"]=o.appCheckToken);const c=function(e){let t=null;return{promise:new Promise(((n,r)=>{t=setTimeout((()=>{r(new j("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:()=>{t&&clearTimeout(t)}}}(n.timeout||7e4),l=await Promise.race([I(t,body,r,e.fetchImpl),c.promise,e.cancelAllRequests]);if(c.cancel(),!l)throw new j("cancelled","Firebase Functions instance was deleted.");const h=function(e,t){let details,code=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),n=code;try{const e=t&&t.error;if(e){const t=e.status;if("string"==typeof t){if(!O[t])return new j("internal","internal");code=O[t],n=t}const r=e.message;"string"==typeof r&&(n=r),details=e.details,void 0!==details&&(details=m(details))}}catch(e){}return"ok"===code?null:new j(code,n,details)}(l.status,l.json);if(h)throw h;if(!l.json)throw new j("internal","Response is not valid JSON object.");let d=l.json.data;if(void 0===d&&(d=l.json.result),void 0===d)throw new j("internal","Response is missing data field.");return{data:m(d)}}const k="@firebase/functions",D="0.10.0";function E(e,t,n){!function(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}(Object(c.z)(e),t,n)}function A(e,t,n){return function(e,t,n){return data=>T(e,t,data,n||{})}(Object(c.z)(e),t,n)}var P,N;P=fetch.bind(self),Object(o._registerComponent)(new l.a(w,((e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("messaging-internal"),c=e.getProvider("app-check-internal");return new C(n,r,o,c,t,P)}),"PUBLIC").setMultipleInstances(!0)),Object(o.registerVersion)(k,D,N),Object(o.registerVersion)(k,D,"esm2017");class x{constructor(e,t){this.app=e,this._delegate=t,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(e,t){return function(e,t,n){return S(Object(c.z)(e),t,n)}(this._delegate,e,t)}httpsCallableFromURL(e,t){return A(this._delegate,e,t)}useFunctionsEmulator(e){const t=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==t)throw new c.c("functions","No origin provided to useFunctionsEmulator()");if(null==t[2])throw new c.c("functions","Port missing in origin provided to useFunctionsEmulator()");return E(this._delegate,t[1],Number(t[2]))}useEmulator(e,t){return E(this._delegate,e,t)}}const R=(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("functions").getImmediate({identifier:null!=t?t:"us-central1"});return new x(n,r)};!function(){const e={Functions:x};r.a.INTERNAL.registerComponent(new l.a("functions-compat",R,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),r.a.registerVersion("@firebase/functions-compat","0.3.5")},198:function(e,t,n){"use strict";var r=n(9),o=n(19),c=n(0),l=n(95);const h="@firebase/installations",d="0.6.4",f=1e4,_=`w:${d}`,m="FIS_v2",w="https://firebaseinstallations.googleapis.com/v1",O=36e5,j={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},y=new c.b("installations","Installations",j);function v(e){return e instanceof c.c&&e.code.includes("request-failed")}function C({projectId:e}){return`${w}/projects/${e}/installations`}function S(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function I(e,t){const n=(await t.json()).error;return y.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function T({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function k(e,{refreshToken:t}){const n=T(e);return n.append("Authorization",function(e){return`${m} ${e}`}(t)),n}async function D(e){const t=await e();return t.status>=500&&t.status<600?e():t}function E(e){return new Promise((t=>{setTimeout(t,e)}))}const A=/^[cdef][\w-]{21}$/,P="";function N(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return A.test(t)?t:P}catch(e){return P}}function x(e){return`${e.appName}!${e.appId}`}const R=new Map;function X(e,t){const n=x(e);F(n,t),function(e,t){const n=L();n&&n.postMessage({key:e,fid:t});B()}(n,t)}function F(e,t){const n=R.get(e);if(n)for(const e of n)e(t)}let Q=null;function L(){return!Q&&"BroadcastChannel"in self&&(Q=new BroadcastChannel("[Firebase] FID Change"),Q.onmessage=e=>{F(e.data.key,e.data.fid)}),Q}function B(){0===R.size&&Q&&(Q.close(),Q=null)}const U="firebase-installations-database",$=1,V="firebase-installations-store";let W=null;function M(){return W||(W=Object(l.b)(U,$,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(V)}})),W}async function Y(e,t){const n=x(e),r=(await M()).transaction(V,"readwrite"),o=r.objectStore(V),c=await o.get(n);return await o.put(t,n),await r.done,c&&c.fid===t.fid||X(e,t.fid),t}async function J(e){const t=x(e),n=(await M()).transaction(V,"readwrite");await n.objectStore(V).delete(t),await n.done}async function z(e,t){const n=x(e),r=(await M()).transaction(V,"readwrite"),o=r.objectStore(V),c=await o.get(n),l=t(c);return void 0===l?await o.delete(n):await o.put(l,n),await r.done,!l||c&&c.fid===l.fid||X(e,l.fid),l}async function H(e){let t;const n=await z(e.appConfig,(n=>{const r=function(e){const t=e||{fid:N(),registrationStatus:0};return Z(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(y.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=C(e),o=T(e),c=t.getImmediate({optional:!0});if(c){const e=await c.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const body={fid:n,authVersion:m,appId:e.appId,sdkVersion:_},l={method:"POST",headers:o,body:JSON.stringify(body)},h=await D((()=>fetch(r,l)));if(h.ok){const e=await h.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:S(e.authToken)}}throw await I("Create Installation",h)}(e,t);return Y(e.appConfig,n)}catch(n){throw v(n)&&409===n.customData.serverCode?await J(e.appConfig):await Y(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:K(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry}));return n.fid===P?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function K(e){let t=await G(e.appConfig);for(;1===t.registrationStatus;)await E(100),t=await G(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await H(e);return n||t}return t}function G(e){return z(e,(e=>{if(!e)throw y.create("installation-not-found");return Z(e)}))}function Z(e){return 1===(t=e).registrationStatus&&t.registrationTime+f<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function ee({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${C(e)}/${t}/authTokens:generate`}(e,n),o=k(e,n),c=t.getImmediate({optional:!0});if(c){const e=await c.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const body={installation:{sdkVersion:_,appId:e.appId}},l={method:"POST",headers:o,body:JSON.stringify(body)},h=await D((()=>fetch(r,l)));if(h.ok){return S(await h.json())}throw await I("Generate Auth Token",h)}async function te(e,t=!1){let n;const r=await z(e.appConfig,(r=>{if(!re(r))throw y.create("not-registered");const o=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+O}(e)}(o))return r;if(1===o.requestStatus)return n=async function(e,t){let n=await ne(e.appConfig);for(;1===n.authToken.requestStatus;)await E(100),n=await ne(e.appConfig);const r=n.authToken;return 0===r.requestStatus?te(e,t):r}(e,t),r;{if(!navigator.onLine)throw y.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await ee(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Y(e.appConfig,r),n}catch(n){if(!v(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Y(e.appConfig,n)}else await J(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function ne(e){return z(e,(e=>{if(!re(e))throw y.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+f<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function re(e){return void 0!==e&&2===e.registrationStatus}async function ae(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await H(e);t&&await t}(n);return(await te(n,t)).token}function ie(e){return y.create("missing-app-config-values",{valueName:e})}const se="installations",oe=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ie("App Configuration");if(!e.name)throw ie("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ie(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Object(r._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},ce=e=>{const t=e.getProvider("app").getImmediate(),n=Object(r._getProvider)(t,se).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await H(t);return r?r.catch(console.error):te(t).catch(console.error),n.fid}(n),getToken:e=>ae(n,e)}};Object(r._registerComponent)(new o.a(se,oe,"PUBLIC")),Object(r._registerComponent)(new o.a("installations-internal",ce,"PRIVATE")),Object(r.registerVersion)(h,d),Object(r.registerVersion)(h,d,"esm2017")},828:function(e,t,n){"use strict";var r=n(50),o=n(19),c=n(16),l=n(0),h=n(42);const d=new h.b("@firebase/database-compat"),f=function(e){const t="FIREBASE WARNING: "+e;d.warn(t)};class _{constructor(e){this._delegate=e}cancel(e){Object(l.X)("OnDisconnect.cancel",0,1,arguments.length),Object(l.Y)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){Object(l.X)("OnDisconnect.remove",0,1,arguments.length),Object(l.Y)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){Object(l.X)("OnDisconnect.set",1,2,arguments.length),Object(l.Y)("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){Object(l.X)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(l.Y)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if(Object(l.X)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let i=0;i<e.length;++i)t[""+i]=e[i];e=t,f("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(l.Y)("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class m{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return Object(l.X)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class w{constructor(e,t){this._database=e,this._delegate=t}val(){return Object(l.X)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Object(l.X)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Object(l.X)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Object(l.X)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(path){return Object(l.X)("DataSnapshot.child",0,1,arguments.length),path=String(path),Object(c.g)("DataSnapshot.child","path",path,!1),new w(this._database,this._delegate.child(path))}hasChild(path){return Object(l.X)("DataSnapshot.hasChild",1,1,arguments.length),Object(c.g)("DataSnapshot.hasChild","path",path,!1),this._delegate.hasChild(path)}getPriority(){return Object(l.X)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return Object(l.X)("DataSnapshot.forEach",1,1,arguments.length),Object(l.Y)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new w(this._database,t))))}hasChildren(){return Object(l.X)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Object(l.X)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Object(l.X)("DataSnapshot.ref",0,0,arguments.length),new j(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class O{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var o;Object(l.X)("Query.on",2,4,arguments.length),Object(l.Y)("Query.on","callback",t,!1);const h=O.getCancelAndContextArgs_("Query.on",n,r),d=(e,n)=>{t.call(h.context,new w(this.database,e),n)};d.userCallback=t,d.context=h.context;const f=null===(o=h.cancel)||void 0===o?void 0:o.bind(h.context);switch(e){case"value":return Object(c.B)(this._delegate,d,f),t;case"child_added":return Object(c.x)(this._delegate,d,f),t;case"child_removed":return Object(c.A)(this._delegate,d,f),t;case"child_changed":return Object(c.y)(this._delegate,d,f),t;case"child_moved":return Object(c.z)(this._delegate,d,f),t;default:throw new Error(Object(l.s)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if(Object(l.X)("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(l.s)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Object(l.Y)("Query.off","callback",t,!0),Object(l.Z)("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,Object(c.w)(this._delegate,e,r)}else Object(c.w)(this._delegate,e)}get(){return Object(c.q)(this._delegate).then((e=>new w(this.database,e)))}once(e,t,n,r){Object(l.X)("Query.once",1,4,arguments.length),Object(l.Y)("Query.once","callback",t,!0);const o=O.getCancelAndContextArgs_("Query.once",n,r),h=new l.a,d=(e,n)=>{const r=new w(this.database,e);t&&t.call(o.context,r,n),h.resolve(r)};d.userCallback=t,d.context=o.context;const f=e=>{o.cancel&&o.cancel.call(o.context,e),h.reject(e)};switch(e){case"value":Object(c.B)(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":Object(c.x)(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":Object(c.A)(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":Object(c.y)(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":Object(c.z)(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error(Object(l.s)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(e){return Object(l.X)("Query.limitToFirst",1,1,arguments.length),new O(this.database,Object(c.H)(this._delegate,Object(c.u)(e)))}limitToLast(e){return Object(l.X)("Query.limitToLast",1,1,arguments.length),new O(this.database,Object(c.H)(this._delegate,Object(c.v)(e)))}orderByChild(path){return Object(l.X)("Query.orderByChild",1,1,arguments.length),new O(this.database,Object(c.H)(this._delegate,Object(c.C)(path)))}orderByKey(){return Object(l.X)("Query.orderByKey",0,0,arguments.length),new O(this.database,Object(c.H)(this._delegate,Object(c.D)()))}orderByPriority(){return Object(l.X)("Query.orderByPriority",0,0,arguments.length),new O(this.database,Object(c.H)(this._delegate,Object(c.E)()))}orderByValue(){return Object(l.X)("Query.orderByValue",0,0,arguments.length),new O(this.database,Object(c.H)(this._delegate,Object(c.F)()))}startAt(e=null,t){return Object(l.X)("Query.startAt",0,2,arguments.length),new O(this.database,Object(c.H)(this._delegate,Object(c.R)(e,t)))}startAfter(e=null,t){return Object(l.X)("Query.startAfter",0,2,arguments.length),new O(this.database,Object(c.H)(this._delegate,Object(c.Q)(e,t)))}endAt(e=null,t){return Object(l.X)("Query.endAt",0,2,arguments.length),new O(this.database,Object(c.H)(this._delegate,Object(c.l)(e,t)))}endBefore(e=null,t){return Object(l.X)("Query.endBefore",0,2,arguments.length),new O(this.database,Object(c.H)(this._delegate,Object(c.m)(e,t)))}equalTo(e,t){return Object(l.X)("Query.equalTo",1,2,arguments.length),new O(this.database,Object(c.H)(this._delegate,Object(c.n)(e,t)))}toString(){return Object(l.X)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Object(l.X)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(Object(l.X)("Query.isEqual",1,1,arguments.length),!(e instanceof O)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(l.Y)(e,"cancel",r.cancel,!0),r.context=n,Object(l.Z)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Object(l.s)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new j(this.database,new c.d(this._delegate._repo,this._delegate._path))}}class j extends O{constructor(e,t){super(e,new c.b(t._repo,t._path,new c.c,!1)),this.database=e,this._delegate=t}getKey(){return Object(l.X)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return Object(l.X)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new j(this.database,Object(c.i)(this._delegate,e))}getParent(){Object(l.X)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new j(this.database,e):null}getRoot(){return Object(l.X)("Reference.root",0,0,arguments.length),new j(this.database,this._delegate.root)}set(e,t){Object(l.X)("Reference.set",1,2,arguments.length),Object(l.Y)("Reference.set","onComplete",t,!0);const n=Object(c.N)(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if(Object(l.X)("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let i=0;i<e.length;++i)t[""+i]=e[i];e=t,f("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(c.h)("Reference.update",this._delegate._path),Object(l.Y)("Reference.update","onComplete",t,!0);const n=Object(c.S)(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){Object(l.X)("Reference.setWithPriority",2,3,arguments.length),Object(l.Y)("Reference.setWithPriority","onComplete",n,!0);const r=Object(c.P)(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){Object(l.X)("Reference.remove",0,1,arguments.length),Object(l.Y)("Reference.remove","onComplete",e,!0);const t=Object(c.K)(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){Object(l.X)("Reference.transaction",1,3,arguments.length),Object(l.Y)("Reference.transaction","transactionUpdate",e,!1),Object(l.Y)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(l.s)(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=Object(c.L)(this._delegate,e,{applyLocally:n}).then((e=>new m(e.committed,new w(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){Object(l.X)("Reference.setPriority",1,2,arguments.length),Object(l.Y)("Reference.setPriority","onComplete",t,!0);const n=Object(c.O)(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){Object(l.X)("Reference.push",0,2,arguments.length),Object(l.Y)("Reference.push","onComplete",t,!0);const n=Object(c.G)(this._delegate,e),r=n.then((e=>new j(this.database,e)));t&&r.then((()=>t(null)),(e=>t(e)));const o=new j(this.database,n);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Object(c.h)("Reference.onDisconnect",this._delegate._path),new _(new c.a(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class y{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:c.p,forceLongPolling:c.o}}useEmulator(e,t,n={}){Object(c.j)(this._delegate,e,t,n)}ref(path){if(Object(l.X)("database.ref",0,1,arguments.length),path instanceof j){const e=Object(c.J)(this._delegate,path.toString());return new j(this,e)}{const e=Object(c.I)(this._delegate,path);return new j(this,e)}}refFromURL(e){Object(l.X)("database.refFromURL",1,1,arguments.length);const t=Object(c.J)(this._delegate,e);return new j(this,t)}goOffline(){return Object(l.X)("database.goOffline",0,0,arguments.length),Object(c.r)(this._delegate)}goOnline(){return Object(l.X)("database.goOnline",0,0,arguments.length),Object(c.s)(this._delegate)}}y.ServerValue={TIMESTAMP:Object(c.M)(),increment:e=>Object(c.t)(e)};var v=Object.freeze({__proto__:null,initStandalone:function({app:e,url:t,version:n,customAuthImpl:r,namespace:l,nodeAdmin:h=!1}){Object(c.f)(n);const d=new o.c("auth-internal",new o.b("database-standalone"));return d.setComponent(new o.a("auth-internal",(()=>r),"PRIVATE")),{instance:new y(Object(c.e)(e,d,void 0,t,h),e),namespace:l}}});const C=y.ServerValue;var S;(S=r.a).INTERNAL.registerComponent(new o.a("database-compat",((e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new y(r,n)}),"PUBLIC").setServiceProps({Reference:j,Query:O,Database:y,DataSnapshot:w,enableLogging:c.k,INTERNAL:v,ServerValue:C}).setMultipleInstances(!0)),S.registerVersion("@firebase/database-compat","0.3.4")},829:function(e,t,n){"use strict";var r=n(50),o=n(12),c=n(0),l=n(19);function h(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new o.g("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function d(){if("undefined"==typeof Uint8Array)throw new o.g("unimplemented","Uint8Arrays are not available in this environment.")}function f(){if(!Object(o.r)())throw new o.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}class _{constructor(e){this._delegate=e}static fromBase64String(e){return f(),new _(o.b.fromBase64String(e))}static fromUint8Array(e){return d(),new _(o.b.fromUint8Array(e))}toBase64(){return f(),this._delegate.toBase64()}toUint8Array(){return d(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function m(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const object=e;for(const e of t)if(e in object&&"function"==typeof object[e])return!0;return!1}(e,["next","error","complete"])}class w{enableIndexedDbPersistence(e,t){return Object(o.F)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Object(o.G)(e._delegate)}clearIndexedDbPersistence(e){return Object(o.x)(e._delegate)}}class O{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof o.m||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Object(o.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){Object(o.A)(this._delegate,e,t,n)}enableNetwork(){return Object(o.H)(this._delegate)}disableNetwork(){return Object(o.D)(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(o.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Object(o.lb)(this._delegate)}onSnapshotsInSync(e){return Object(o.Y)(this._delegate,e)}get app(){if(!this._appCompat)throw new o.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new x(this,Object(o.y)(this._delegate,e))}catch(e){throw I(e,"collection()","Firestore.collection()")}}doc(e){try{return new S(this,Object(o.E)(this._delegate,e))}catch(e){throw I(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new A(this,Object(o.z)(this._delegate,e))}catch(e){throw I(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Object(o.db)(this._delegate,(t=>e(new y(this,t))))}batch(){return Object(o.K)(this._delegate),new v(new o.l(this._delegate,(e=>Object(o.L)(this._delegate,e))))}loadBundle(e){return Object(o.V)(this._delegate,e)}namedQuery(e){return Object(o.W)(this._delegate,e).then((e=>e?new A(this,e):null))}}class j extends o.a{constructor(e){super(),this.firestore=e}convertBytes(e){return new _(new o.b(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return S.forKey(t,this.firestore,null)}}class y{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new j(e)}get(e){const t=R(e);return this._delegate.get(t).then((e=>new D(this._firestore,new o.e(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,data,t){const n=R(e);return t?(h("Transaction.set",t),this._delegate.set(n,data,t)):this._delegate.set(n,data),this}update(e,t,n,...r){const o=R(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...r),this}delete(e){const t=R(e);return this._delegate.delete(t),this}}class v{constructor(e){this._delegate=e}set(e,data,t){const n=R(e);return t?(h("WriteBatch.set",t),this._delegate.set(n,data,t)):this._delegate.set(n,data),this}update(e,t,n,...r){const o=R(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...r),this}delete(e){const t=R(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class C{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new o.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new E(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=C.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let o=r.get(t);return o||(o=new C(e,new j(e),t),r.set(t,o)),o}}C.INSTANCES=new WeakMap;class S{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new j(e)}static forPath(path,e,t){if(path.length%2!=0)throw new o.g("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${path.canonicalString()} has ${path.length}`);return new S(e,new o.d(e._delegate,t,new o.n(path)))}static forKey(e,t,n){return new S(t,new o.d(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new x(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new x(this.firestore,Object(o.y)(this._delegate,e))}catch(e){throw I(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Object(c.z)(e))instanceof o.d&&Object(o.cb)(this._delegate,e)}set(e,t){t=h("DocumentReference.set",t);try{return t?Object(o.fb)(this._delegate,e,t):Object(o.fb)(this._delegate,e)}catch(e){throw I(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Object(o.kb)(this._delegate,e):Object(o.kb)(this._delegate,e,t,...n)}catch(e){throw I(e,"updateDoc()","DocumentReference.update()")}}delete(){return Object(o.B)(this._delegate)}onSnapshot(...e){const t=T(e),n=k(e,(e=>new D(this.firestore,new o.e(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Object(o.X)(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?Object(o.N)(this._delegate):"server"===(null==e?void 0:e.source)?Object(o.O)(this._delegate):Object(o.M)(this._delegate),t.then((e=>new D(this.firestore,new o.e(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new S(this.firestore,e?this._delegate.withConverter(C.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function I(e,t,n){return e.message=e.message.replace(t,n),e}function T(e){for(const t of e)if("object"==typeof t&&!m(t))return t;return{}}function k(e,t){var n,r;let o;return o=m(e[0])?e[0]:m(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{o.next&&o.next(t(e))},error:null===(n=o.error)||void 0===n?void 0:n.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class D{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new S(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Object(o.hb)(this._delegate,e._delegate)}}class E extends D{data(e){const data=this._delegate.data(e);return Object(o.q)(void 0!==data,"Document in a QueryDocumentSnapshot should exist"),data}}class A{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new j(e)}where(e,t,n){try{return new A(this.firestore,Object(o.ab)(this._delegate,Object(o.mb)(e,t,n)))}catch(e){throw I(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new A(this.firestore,Object(o.ab)(this._delegate,Object(o.Z)(e,t)))}catch(e){throw I(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new A(this.firestore,Object(o.ab)(this._delegate,Object(o.T)(e)))}catch(e){throw I(e,"limit()","Query.limit()")}}limitToLast(e){try{return new A(this.firestore,Object(o.ab)(this._delegate,Object(o.U)(e)))}catch(e){throw I(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new A(this.firestore,Object(o.ab)(this._delegate,Object(o.jb)(...e)))}catch(e){throw I(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new A(this.firestore,Object(o.ab)(this._delegate,Object(o.ib)(...e)))}catch(e){throw I(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new A(this.firestore,Object(o.ab)(this._delegate,Object(o.J)(...e)))}catch(e){throw I(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new A(this.firestore,Object(o.ab)(this._delegate,Object(o.I)(...e)))}catch(e){throw I(e,"endAt()","Query.endAt()")}}isEqual(e){return Object(o.bb)(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?Object(o.Q)(this._delegate):"server"===(null==e?void 0:e.source)?Object(o.R)(this._delegate):Object(o.P)(this._delegate),t.then((e=>new N(this.firestore,new o.j(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=T(e),n=k(e,(e=>new N(this.firestore,new o.j(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Object(o.X)(this._delegate,t,n)}withConverter(e){return new A(this.firestore,e?this._delegate.withConverter(C.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class P{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new E(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class N{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new A(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new E(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new P(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new E(this._firestore,n))}))}isEqual(e){return Object(o.hb)(this._delegate,e._delegate)}}class x extends A{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new S(this.firestore,e):null}doc(e){try{return new S(this.firestore,void 0===e?Object(o.E)(this._delegate):Object(o.E)(this._delegate,e))}catch(e){throw I(e,"doc()","CollectionReference.doc()")}}add(data){return Object(o.u)(this._delegate,data).then((e=>new S(this.firestore,e)))}isEqual(e){return Object(o.cb)(this._delegate,e._delegate)}withConverter(e){return new x(this.firestore,e?this._delegate.withConverter(C.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function R(e){return Object(o.p)(e,o.d)}class X{constructor(...e){this._delegate=new o.f(...e)}static documentId(){return new X(o.o.keyField().canonicalString())}isEqual(e){return(e=Object(c.z)(e))instanceof o.f&&this._delegate._internalPath.isEqual(e._internalPath)}}class F{constructor(e){this._delegate=e}static serverTimestamp(){const e=Object(o.eb)();return e._methodName="FieldValue.serverTimestamp",new F(e)}static delete(){const e=Object(o.C)();return e._methodName="FieldValue.delete",new F(e)}static arrayUnion(...e){const t=Object(o.w)(...e);return t._methodName="FieldValue.arrayUnion",new F(t)}static arrayRemove(...e){const t=Object(o.v)(...e);return t._methodName="FieldValue.arrayRemove",new F(t)}static increment(e){const t=Object(o.S)(e);return t._methodName="FieldValue.increment",new F(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Q={Firestore:O,GeoPoint:o.h,Timestamp:o.k,Blob:_,Transaction:y,WriteBatch:v,DocumentReference:S,DocumentSnapshot:D,Query:A,QueryDocumentSnapshot:E,QuerySnapshot:N,CollectionReference:x,FieldPath:X,FieldValue:F,setLogLevel:function(e){Object(o.gb)(e)},CACHE_SIZE_UNLIMITED:o.c};var L,B;L=r.a,B=(e,t)=>new O(e,t,new w),L.INTERNAL.registerComponent(new l.a("firestore-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return B(t,n)}),"PUBLIC").setServiceProps(Object.assign({},Q))),L.registerVersion("@firebase/firestore-compat","0.3.12")}}]);